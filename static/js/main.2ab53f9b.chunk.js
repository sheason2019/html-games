(this.webpackJsonpchannel=this.webpackJsonpchannel||[]).push([[0],{32:function(n,e,t){},33:function(n,e,t){},42:function(n,e,t){"use strict";t.r(e);var c=t(0),r=t.n(c),o=t(14),i=t.n(o),l=(t(32),t(33),t(18)),a=t(6),s=t(2),u=t(4),d=t(3),b=t(15);function f(){for(var n=[],e=0;e<8;e++)n.push([]);return n}function j(){for(var n=[],e=0;e<4;e++)n.push(null);return n}function h(){for(var n=[],e=0;e<4;e++)n.push([]);return n}var p,m,g,x,O={time:0,slots:j(),collections:h(),columns:f(),temp:{index:-1,stack:[],type:"column"},start:!1,status:"index",message:{open:!1,text:"",message_id:0},history:[],justCancel:!1,blockAutoCollection:!1},v=Object(b.b)({name:"cells",initialState:O,reducers:{initColumn:function(n){for(var e=function(){for(var n=[],e=0;e<13;e++)for(var t=0;t<4;t++)n.push({value:e,color:t});return n}(),t=f(),c=0;e.length>0;){var r=Math.floor(Math.random()*e.length),o=e.splice(r,1)[0];t[c++].push(o),c>7&&(c=0)}n.columns=t,n.history=[],n.collections=h(),n.slots=j(),n.time=0,n.blockAutoCollection=!1},selectColumn:function(n,e){Object.assign(n.temp,e.payload)},moveCard:function(n,e){var t=e.payload,c=t.target,r=t.length,o=function(n,e,t){var c=n.filter((function(n){return null===n})).length,r=e.filter((function(n,e){return 0===n.length&&e!==t})).length;return(c+1)*Math.pow(2,r)}(n.slots,n.columns,c);if(-1!==n.temp.index){if(r>o&&0!==n.columns[c].length)return n.message.open=!0,n.message.text="\u79fb\u52a8\u5361\u724c\u5931\u8d25\uff0c\u60a8\u8bd5\u56fe\u79fb\u52a8".concat(r,"\u5f20\u724c\uff0c\u4f46\u73b0\u5728\u53ea\u80fd\u79fb\u52a8").concat(o,"\u5f20"),void(n.message.message_id=(new Date).getTime());if("column"===n.temp.type){for(var i=[],l=0;l<Math.min(r,o);l++){var a=n.columns[n.temp.index].pop();i.push(a)}i.reverse();for(var s=0,u=i;s<u.length;s++){var d=u[s];n.columns[c].push(d)}n.temp={index:-1,stack:[]}}else"slot"===n.temp.type&&(n.columns[c].push(n.slots[n.temp.index]),n.slots[n.temp.index]=null);n.start=!0,n.blockAutoCollection=!1}},moveToSlot:function(n,e){var t=e.payload.target;if(0!==n.temp.stack.length&&null===n.slots[t]){var c;if("column"===n.temp.type)c=n.columns[n.temp.index].pop();else{if("slot"!==n.temp.type)return;c=n.slots[n.temp.index],n.slots[n.temp.index]=null}n.slots[t]=c,n.temp.index=-1,n.temp.stack=[],n.start=!0,n.blockAutoCollection=!1}},moveToCollection:function(n,e){var t=e.payload.target,c=n.temp.index;if(0!==n.temp.stack.length){var r;"slot"===n.temp.type?(n.slots[c],r=n.slots[c],n.slots[c]=null):"column"===n.temp.type&&(r=n.columns[c].pop()),n.collections[t].push(r),n.temp={index:-1,stack:[]},n.start=!0,n.blockAutoCollection=!1;var o=!0;n.collections.forEach((function(n){0!==n.length&&12!==n[n.length-1].value&&(o=!1)})),n.start=!o,n.status=o?"end":n.status}},setTime:function(n,e){n.time=e.payload},setMessage:function(n,e){Object.assign(n.message,e.payload)},setStatus:function(n,e){n.status=e.payload},pushIntoHistory:function(n,e){n.justCancel?n.justCancel=!1:n.start?n.history.push(e.payload):n.history[0]=e.payload},cancelAction:function(n,e){if("end"!==n.status&&n.history.length>1){var t=e.payload;n.history.pop(),n.collections=Object.assign([],t.collections),n.columns=Object.assign([],t.columns),n.slots=Object.assign([],t.slots),n.justCancel=!0,n.blockAutoCollection=!0}}}}),y=v.actions,k=y.initColumn,w=y.selectColumn,C=y.moveCard,M=y.moveToSlot,A=y.moveToCollection,T=y.setTime,E=y.setMessage,z=y.setStatus,S=y.cancelAction,F=y.pushIntoHistory,P=v.reducer,I=t(27),R=t(1),_=d.a.div(p||(p=Object(s.a)(["\n  width: 8rem;\n  height: 10rem;\n  background-color: white;\n  border-radius: 0.5rem;\n  margin-bottom: ",";\n  box-shadow: ",";\n  position: relative;\n  overflow: hidden;\n"])),(function(n){return n.last?0:"-7rem"}),(function(n){return n.selected?"0px 1px 2px 4px rgba(0, 0, 0, 0.5)":"0px 1px 2px 0px rgba(0, 0, 0, 0.75)"})),D=d.a.div(m||(m=Object(s.a)(["\n  font-size: 1.25rem;\n  display: flex;\n  padding-top: 0.25rem;\n  padding-left: 0.25rem;\n  color: ",";\n  user-select: none;\n"])),(function(n){return n.color%2===0?"black":"red"})),B=d.a.div(g||(g=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 1.25rem;\n"]))),J=d.a.div(x||(x=Object(s.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.25);\n  visibility: ",";\n"])),(function(n){return n.open?"normal":"hidden"})),K=["\u2660","\u2665","\u2663\ufe0f","\u2666\ufe0f"],L=function(n){switch(n){case 0:return"A";case 10:return"J";case 11:return"Q";case 12:return"K";default:return String(n+1)}};var H,U,W,Q,Z,$=function(n){var e=r.a.useRef(),t=r.a.useState(!1),c=Object(I.a)(t,2),o=c[0],i=c[1];return Object(R.jsxs)(_,{ref:e,shouldMove:o,selected:n.selected,last:n.last,onMouseMove:function(n){},onMouseDown:function(){i(!0)},onMouseUp:function(){i(!1)},children:[Object(R.jsx)(J,{open:n.backdrop}),Object(R.jsxs)(D,{color:n.data.color,children:[Object(R.jsx)(B,{color:n.data.color,children:K[n.data.color]}),Object(R.jsx)("span",{children:L(n.data.value)})]})]})},q=d.a.div(H||(H=Object(s.a)(["\n  width: 8rem;\n  height: 10rem;\n  margin: 5px;\n  border: 1px solid white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  border-radius: 0.5rem;\n  user-select: none;\n"]))),G=d.a.div(U||(U=Object(s.a)(["\n  display: flex;\n  padding: 5px;\n"]))),N=d.a.div(W||(W=Object(s.a)(["\n  color: ",";\n  font-size: 5rem;\n  opacity: 0.25;\n"])),(function(n){return n.index%2===0?"black":"red"}));function V(){var n=Object(u.c)((function(n){return n.cells.collections})),e=Object(u.c)((function(n){return n.cells.temp})),t=Object(u.b)();return Object(R.jsx)(G,{children:n.map((function(c,r){return Object(R.jsx)(q,{onClick:function(c){return function(c,r){c.stopPropagation();var o=n[r],i=e.stack[e.stack.length-1];i&&(i.color===r&&i.value===o.length&&t(A({target:r})),t(w({index:-1,stack:[]})))}(c,r)},children:Object(R.jsx)(X,{collection:c,index:r})},r)}))})}function X(n){var e=n.index,t=n.collection;return 0===t.length?Object(R.jsx)(N,{index:e,children:["\u2660","\u2665","\u2663\ufe0f","\u2666\ufe0f"][e]}):Object(R.jsx)("div",{style:{position:"absolute",zIndex:t.value,top:0},children:Object(R.jsx)($,{data:t[t.length-1]})})}var Y,nn,en,tn,cn=d.a.div(Q||(Q=Object(s.a)(["\n  width: 8rem;\n  height: 10rem;\n  margin: 5px;\n  border: 1px solid white;\n  border-radius: 0.5rem;\n"]))),rn=d.a.div(Z||(Z=Object(s.a)(["\n  display: flex;\n  padding: 5px;\n"])));function on(){var n=Object(u.b)(),e=Object(u.c)((function(n){return n.cells.slots})),t=Object(u.c)((function(n){return n.cells.temp})),c=Object(u.c)((function(n){return n.cells.collections})),o=Object(u.c)((function(n){return n.cells.start})),i=Object(u.c)((function(n){return n.cells.blockAutoCollection})),l=r.a.useCallback((function(t){null===e[t]?n(M({target:t})):n(w({index:t,stack:[e[t]],type:"slot"}))}),[n,e]),a=r.a.useCallback((function(){if(!i){var t=12;c.forEach((function(n){0===n.length?t=0:n[n.length-1].value<t&&(t=n[n.length-1].value)})),e.forEach((function(e,r){if(null!==e&&!(e.value>=t+2)){var o=c[e.color];0===o.length?0===e.value&&(l(r),n(A({target:e.color}))):o[o.length-1].value+1===e.value&&(l(r),n(A({target:e.color})))}}))}}),[c,n,l,e]);return r.a.useEffect((function(){o&&a()}),[a,o]),Object(R.jsx)(rn,{children:e.map((function(n,e){return Object(R.jsx)(cn,{onClick:function(n){l(e),n.stopPropagation()},children:null===n?null:Object(R.jsx)($,{data:n,selected:"slot"===t.type&&t.index===e})},e)}))})}var ln,an,sn,un,dn,bn,fn=d.a.div(Y||(Y=Object(s.a)(["\n  display: flex;\n  margin-top: 4.5rem;\n\n  @media (max-width: 960px) {\n    transform: scale(0.5);\n    margin-top: -2rem;\n  }\n"]))),jn=d.a.div(nn||(nn=Object(s.a)(["\n  width: 12rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),hn=d.a.div(en||(en=Object(s.a)(["\n  font-size: 24px;\n  font-weight: 600;\n  user-select: none;\n"]))),pn=d.a.div(tn||(tn=Object(s.a)(["\n  background-color: rgba(0,0,0,0.25);\n  width: 80%;\n  height: 3rem;\n  color: rgba(255,255,255,0.9);\n  font-size: 2.5rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 1rem;\n  user-select: none;\n"])));function mn(){var n=Object(u.c)((function(n){return n.cells.time})),e=Object(u.c)((function(n){return n.cells.start})),t=Object(u.b)();return r.a.useEffect((function(){e&&setTimeout((function(){t(T(n+1))}),1e3)}),[t,e,n]),Object(R.jsxs)(fn,{children:[Object(R.jsx)(on,{}),Object(R.jsxs)(jn,{children:[Object(R.jsx)(hn,{children:"Time"}),Object(R.jsx)(pn,{children:n})]}),Object(R.jsx)(V,{})]})}var gn=d.a.div(ln||(ln=Object(s.a)(["\n  flex-grow: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),xn=d.a.div(an||(an=Object(s.a)(["\n  padding: 1.5rem;\n  width: 35rem;\n  background-color: rgba(0, 0, 0, 0.5);\n  border: 2px solid #000;\n  margin: 0.5rem 0;\n  border-radius: 4px;\n  color: white;\n  user-select: none;\n  p {\n    margin: 0;\n  }\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),On=d.a.div(sn||(sn=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  width: 80%;\n"]))),vn=d.a.div(un||(un=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),yn=d.a.div(dn||(dn=Object(s.a)(["\n  width: 80%;\n  height: 3rem;\n  margin-top: 1rem;\n  background-color: #1b7ced;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.75rem;\n  border-radius: 4px;\n"]))),kn=d.a.div(bn||(bn=Object(s.a)(["\n  width: 80%;\n  height: 2rem;\n  margin-top: 1rem;\n  background-color: #e44c51;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.25rem;\n  border-radius: 4px;\n"])));var wn,Cn=function(){var n=Object(u.c)((function(n){return n.cells.time})),e=r.a.useRef(0),t=Object(u.b)();return r.a.useEffect((function(){var n=localStorage.getItem("completePatch");e.current=(n?parseInt(n):0)+1,localStorage.setItem("completePatch",e.current)}),[]),Object(R.jsx)(gn,{children:Object(R.jsxs)(xn,{children:[Object(R.jsx)("h2",{style:{marginTop:0},children:"\u606d\u559c\u901a\u5173"}),Object(R.jsxs)(On,{children:[Object(R.jsxs)(vn,{children:[Object(R.jsx)("p",{children:"\u65f6\u95f4"}),Object(R.jsx)("p",{children:n})]}),Object(R.jsxs)(vn,{children:[Object(R.jsx)("p",{children:"\u5df2\u5b8c\u6210\u573a\u6b21\uff1a"}),Object(R.jsx)("p",{children:e.current})]})]}),Object(R.jsx)(yn,{onClick:function(){t(k()),t(z("game"))},children:"\u65b0\u7684\u6e38\u620f"}),Object(R.jsx)(kn,{onClick:function(){t(k()),t(z("index"))},children:"\u8fd4\u56de\u83dc\u5355"})]})})},Mn=t(21),An=d.a.div(wn||(wn=Object(s.a)(["\n  position: fixed;\n  right: 1rem;\n  bottom: 1rem;\n  width: 4rem;\n  height: 4rem;\n  border-radius: 2rem;\n  color: #FFF;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 20;\n  background-color: rgba(0,0,0,0.5);\n  border: 2px solid rgba(0,0,0,0.75);\n"])));var Tn,En,zn,Sn=function(n){return Object(R.jsx)(An,Object(Mn.a)(Object(Mn.a)({},n),{},{children:n.children}))},Fn=d.a.div(Tn||(Tn=Object(s.a)(["\n  margin: 0 0.75rem;\n  position: relative;\n  align-self: flex-start;\n"]))),Pn=d.a.div(En||(En=Object(s.a)(["\n  width: 8rem;\n  height: 10rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  border-radius: 0.5rem;\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.1);\n    cursor: pointer;\n  }\n"])));function In(n){var e=Object(u.b)(),t=Object(u.c)((function(n){return n.cells.temp})),c=Object(u.c)((function(n){return n.cells.collections})),o=Object(u.c)((function(n){return n.cells.slots})),i=Object(u.c)((function(n){return n.cells.columns})),l=Object(u.c)((function(n){return n.cells.start})),a=Object(u.c)((function(n){return n.cells.blockAutoCollection})),s=i[n.index],d=r.a.useCallback((function(c){c&&c.stopPropagation();var r=function(n,e){var t={allowMove:!1,length:0};if(0===e.length)return{allowMove:!0,length:n.length};var c=e[e.length-1];return n.forEach((function(e,r){e.color%2!==c.color%2&&e.value===c.value-1&&(t.allowMove=!0,t.length=n.length-r)})),t}(t.stack,s);if(r.allowMove)e(C({target:n.index,length:r.length}));else{var o=function(n){for(var e={},t=[],c=n.length,r=0;!(r>=c);){if(void 0===e.value)Object.assign(e,n[c-1]),r++;else{if(n[c-1-r].value!==e.value+1||n[c-1-r].color%2===e.color%2)break;Object.assign(e,n[c-1-r]),r++}t.unshift(Object.assign({},e))}return t}(s);e(w({index:n.index,stack:o,type:"column"}))}}),[s,e,n.index,t.stack]),b=r.a.useCallback((function(){e(w({index:-1,stack:[]}))}),[e]),f=function(e){return"column"===t.type&&(n.index===t.index&&!s.length-e<=t.stack.length)},j=r.a.useCallback((function(){if(!a){var t=i[n.index];if(0!==t.length){var r=t[t.length-1],o=c[r.color],l=13;c.forEach((function(n){0===n.length?l=0:n[n.length-1].value<l&&(l=n[n.length-1].value)})),r.value>=l+2||(0===o.length?0===r.value&&(d(),e(A({target:r.color}))):o[o.length-1].value+1===r.value&&(d(),e(A({target:r.color}))))}}}),[a,c,i,e,d,n.index]);return r.a.useEffect((function(){l&&j()}),[j,l]),Object(R.jsxs)(Fn,{onClick:d,onMouseUp:function(t){if(2===t.button){var r=function(){if(0===i[n.index].length)return!1;for(var e=0;e<o.length;e++)if(null===o[e])return{allow:!0,target:e};return{allow:!1}}();!function(){var e=i[n.index];if(0===e.length)return!1;var t=e[e.length-1],r=c[t.color];if(0===r.length){if(0===t.value)return!0}else if(r[r.length-1].value+1===t.value)return!0;return!1}()?r.allow&&(b(),d(),e(M({target:r.target}))):(b(),d(),e(A({target:s[s.length-1].color})))}},children:[0===s.length?Object(R.jsx)(Pn,{}):s.map((function(n,e){return Object(R.jsx)($,{data:n,backdrop:f(e),last:e===s.length-1},e)})),Object(R.jsx)(Jn,{show:t.index===n.index&&"column"===t.type})]})}var Rn,_n,Dn,Bn=d.a.div(zn||(zn=Object(s.a)(["\n  position: absolute;\n  top: ","rem;\n  box-shadow: 0px 1px 2px 4px rgba(0, 0, 0, 0.5);\n  border-radius: 0.5rem;\n"])),(function(n){return 3*n.space})),Jn=function(n){var e=Object(u.c)((function(n){return n.cells.temp})),t=Object(u.c)((function(n){return n.cells.columns[e.index]})),c=Object(u.b)();return n.show?Object(R.jsx)(Bn,{onClick:function(n){n.stopPropagation(),c(w({index:-1,stack:[]}))},space:t.length-e.stack.length,children:e.stack.map((function(n,t){return Object(R.jsx)($,{data:n,last:t===e.stack.length-1},t)}))}):null},Kn=d.a.div(Rn||(Rn=Object(s.a)(["\n  display: flex;\n  margin-top: 2rem;\n\n  @media (max-width: 960px) {\n    transform: scale(0.5);\n    margin-top: -2rem;\n    transform-origin: 50% 0;\n  }\n"])));function Ln(){var n=Object(u.c)((function(n){return n.cells.columns}));return Object(R.jsx)(Kn,{children:n.map((function(n,e){return Object(R.jsx)(In,{index:e},e)}))})}var Hn=d.a.div(_n||(_n=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100vw;\n  flex-grow: 1;\n"]))),Un=d.a.div(Dn||(Dn=Object(s.a)(["\n  padding: 1.5rem;\n  width: 35rem;\n  background-color: rgba(0, 0, 0, 0.5);\n  border: 2px solid #000;\n  margin: 0.5rem 0;\n  border-radius: 4px;\n  color: white;\n  user-select: none;\n  p {\n    margin: 0;\n  }\n"])));var Wn,Qn=function(){var n=Object(u.b)();return Object(R.jsx)(Hn,{onClick:function(){n(z("index"))},children:Object(R.jsxs)(Un,{children:[Object(R.jsx)("h3",{style:{textAlign:"center"},children:"\u5e2e\u52a9&\u4ecb\u7ecd"}),Object(R.jsx)("h4",{children:"\u6e38\u620f\u76ee\u6807"}),Object(R.jsx)("p",{children:"\u5728\u56db\u4e2a\u56de\u6536\u5355\u5143\u4e2d\u5404\u521b\u5efa\u4e00\u53e0\u724c\uff0c\u6bcf\u53e0 13 \u5f20\uff0c\u4e14\u82b1\u8272\u76f8\u540c\u3002\u6bcf\u53e0\u724c\u5fc5\u987b\u6309\u4ece\u5c0f (A) \u5230\u5927 (K) \u7684\u987a\u5e8f\u6392\u5217\u3002"}),Object(R.jsx)("h4",{children:"\u5982\u4f55\u73a9\u724c"}),Object(R.jsx)("p",{children:"\u7a7a\u5f53\u63a5\u9f99\u4ec5\u4f7f\u7528\u4e00\u526f\u724c\u73a9\uff0c\u5171 52 \u5f20\uff0c\u724c\u7684\u6b63\u9762\u671d\u4e0a\uff0c\u6392\u6210\u516b\u5217\u3002\u901a\u8fc7\u4ece\u8fd9\u516b\u5217\u4e2d\u79fb\u724c\u6765\u521b\u5efa\u56db\u53e0\u724c\uff1a"}),Object(R.jsx)("p",{children:"\u5de6\u4e0a\u89d2\u662f\u56db\u4e2a\u201c\u53ef\u7528\u5355\u5143\u201d\uff0c\u79fb\u724c\u65f6\u53ef\u4ee5\u5728\u5176\u4e2d\u4e34\u65f6\u653e\u724c\u3002"}),Object(R.jsx)("p",{children:"\u53f3\u4e0a\u89d2\u662f\u56db\u4e2a\u201c\u56de\u6536\u5355\u5143\u201d\uff0c\u5728\u5176\u4e2d\u6784\u5efa\u83b7\u80dc\u6240\u9700\u7684\u724c\u53e0\u3002"}),Object(R.jsx)("h4",{children:"\u5177\u4f53\u73a9\u6cd5"}),Object(R.jsx)("p",{children:"\u4ece\u6bcf\u5217\u5e95\u90e8\u62d6\u724c\uff0c\u5e76\u6309\u4ee5\u4e0b\u65b9\u5f0f\u79fb\u52a8\uff1a"}),Object(R.jsx)("p",{children:"\u4ece\u5217\u5230\u53ef\u7528\u5355\u5143\u3002\u6bcf\u4e2a\u53ef\u7528\u5355\u5143\u4e00\u6b21\u53ea\u80fd\u653e\u4e00\u5f20\u724c\u3002"}),Object(R.jsx)("p",{children:"\u4ece\u5217\u5230\u5217\uff08\u6216\u4ece\u53ef\u7528\u5355\u5143\u5230\u5217\uff09\u3002\u5728\u5217\u4e2d\u5fc5\u987b\u6309\u964d\u5e8f\u4f9d\u6b21\u653e\u724c\uff0c\u800c\u4e14\u7ea2\u9ed1\u82b1\u8272\u4ea4\u66ff\u3002"}),Object(R.jsx)("p",{children:"\u4ece\u5217\u5230\u56de\u6536\u5355\u5143\u3002\u6bcf\u53e0\u724c\u5fc5\u987b\u7531\u540c\u4e00\u82b1\u8272\u7ec4\u6210\uff0c\u5e76\u4ece A \u5f00\u59cb\u3002"}),Object(R.jsx)("p",{children:"\u6bcf\u4e00\u5217\u4e2d\u53ea\u80fd\u79fb\u52a8\u6700\u4e0b\u9762\u7684\u724c\uff0c\u88ab\u538b\u4f4f\u7684\u724c\u662f\u4e0d\u80fd\u76f4\u63a5\u79fb\u52a8\u7684\u3002\u5de6\u4e0a\u7684\u4e2d\u8f6c\u5355\u5143\u4e2d\u7684\u724c\u90fd\u53ef\u4ee5\u79fb\u52a8\u3002"}),Object(R.jsx)("p",{style:{textAlign:"center",marginTop:"2rem"},children:"*\u70b9\u51fb\u80cc\u666f\u4efb\u610f\u4f4d\u7f6e\u8fd4\u56de\u83dc\u5355*"})]})})},Zn=(t(39),d.a.div(Wn||(Wn=Object(s.a)(["\n  position: fixed;\n  bottom: ",";\n  transition: 400ms;\n  left: 0;\n  right: 0;\n  height: 2.5rem;\n  width: 28rem;\n  background-color: rgb(211, 47, 47);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 10;\n  border-radius: 4px;\n  color: white;\n  margin: 0 auto;\n  box-shadow: 0px 3px 5px -1px rgb(0 0 0 / 20%),\n    0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%);\n"])),(function(n){return n.open?"3rem":"-3rem"})));var $n,qn,Gn=function(){var n=Object(u.c)((function(n){return n.cells.message})),e=r.a.useRef(null),t=r.a.useRef(null),c=Object(u.b)(),o=r.a.useCallback((function(){c(E({open:!1}))}),[c]);return r.a.useEffect((function(){null!==e.current&&clearTimeout(e.current),(n.open||n.message_id!==t.current)&&(e.current=setTimeout((function(){o()}),2e3),t.current=n.message_id)}),[o,n.message_id,n.open]),Object(R.jsx)(Zn,{open:n.open,children:Object(R.jsx)("b",{style:{userSelect:"none"},children:n.text})})},Nn=d.a.div($n||($n=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n"]))),Vn=d.a.div(qn||(qn=Object(s.a)(["\n  width: 25rem;\n  height: 3rem;\n  background-color: rgba(0, 0, 0, 0.5);\n  border: 2px solid #000;\n  margin: 0.5rem 0;\n  border-radius: 4px;\n  color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  user-select: none;\n  opacity: ",";\n  ","\n"])),(function(n){return n.disable?.5:1}),(function(n){return n.disable?"cursor: not-allowed;":"\n    &:hover {\n      background-color: rgba(0, 0, 0, 0.75);\n      cursor: pointer;\n    }\n  "}));var Xn,Yn=function(){var n=Object(u.b)();return Object(R.jsxs)(Nn,{children:[Object(R.jsx)(Vn,{disable:!0,children:"\u7ee7\u7eed\u6e38\u620f(\u6784\u5efa\u4e2d...)"}),Object(R.jsx)(Vn,{onClick:function(){n(z("game"))},children:"\u65b0\u7684\u6e38\u620f"}),Object(R.jsx)(Vn,{onClick:function(){n(z("help"))},children:"\u6e38\u620f\u5e2e\u52a9"})]})},ne=d.a.div(Xn||(Xn=Object(s.a)(["\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n  background-color: green;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"])));var ee,te,ce,re=function(){var n,e=Object(u.b)(),t=Object(u.c)((function(n){return n.cells.status})),c=Object(u.c)((function(n){return n.cells.history})),o=Object(u.c)((function(n){return n.cells})),i=r.a.useRef(new Map),l=function(n){n.stopPropagation(),c.length>1&&e(S(c[c.length-2]))};return r.a.useEffect((function(){e(k())}),[e]),r.a.useEffect((function(){e(F({columns:o.columns,slots:o.slots,collections:o.collections}))}),[o.columns,o.slots,o.collections,e]),r.a.useEffect((function(){return document.onkeydown=function(n){i.current.set(n.code,!0),i.current.get("ControlLeft")&&i.current.get("KeyZ")&&l(n)},document.onkeyup=function(n){i.current.set(n.code,!1)},function(){document.onkeydown=function(){},document.onkeyup=function(){}}})),"index"===t?n=Object(R.jsx)(Yn,{}):"game"===t?n=Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(mn,{}),Object(R.jsx)(Ln,{}),Object(R.jsx)(Gn,{}),Object(R.jsx)(Sn,{onClick:l,children:"\u64a4\u9500"})]}):"help"===t?n=Object(R.jsx)(Qn,{}):"end"===t&&(n=Object(R.jsx)(Cn,{})),Object(R.jsx)(ne,{onClick:function(n){e(w({index:-1,stack:[]}))},onContextMenu:function(n){return n.preventDefault()},children:n})},oe=d.a.div(ee||(ee=Object(s.a)(["\n  background: rgba(0,0,0, 0.5);\n  height: 4rem;\n  left: 0;\n  right: 0;\n  position: absolute;\n  z-index: 10;\n  color: #FFF;\n  display: flex;\n  align-items: center;\n  @media (max-width: 960px) {\n    display: none;\n  }\n"]))),ie=d.a.div(te||(te=Object(s.a)(["\n  font-size: 2rem;\n  font-family: '\u5fae\u8f6f\u96c5\u9ed1';\n  padding-left: 1rem;\n  user-select: none;\n"]))),le=d.a.div(ce||(ce=Object(s.a)(["\n  width: 3rem;\n  height: 2rem;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  margin-left: 1rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1rem;\n  user-select: none;\n  border-radius: 4px;\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.5);\n    color: black;\n    cursor: pointer;\n  }\n"])));var ae=function(){return Object(R.jsxs)(oe,{children:[Object(R.jsx)(le,{children:"Menu"}),Object(R.jsx)(ie,{children:"\u7a7a\u5f53\u63a5\u9f99"})]})};var se=function(){return Object(R.jsxs)(l.a,{children:[Object(R.jsx)(ae,{}),Object(R.jsx)(a.b,{children:Object(R.jsx)(l.a,{path:"/",children:Object(R.jsx)(re,{})})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,43)).then((function(e){var t=e.getCLS,c=e.getFID,r=e.getFCP,o=e.getLCP,i=e.getTTFB;t(n),c(n),r(n),o(n),i(n)}))},de=Object(b.a)({reducer:{cells:P}});i.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(u.a,{store:de,children:Object(R.jsx)(se,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)})),ue()}},[[42,1,2]]]);
//# sourceMappingURL=main.2ab53f9b.chunk.js.map